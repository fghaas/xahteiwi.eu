<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>What's a Totem "Retransmit List" all about in Corosync? - xahteiwi.eu</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="fghaas.github.io/xahteiwi.eu/resources/hints-and-kinks/whats-totem-retransmit-list-all-about-corosync/index.html">

        <meta name="author" content="Florian Haas" />
        <meta name="keywords" content="Corosync" />
        <meta name="description" content="Occasionally, you may see errors similar to this in your system logs: corosync [TOTEM ] Retransmit List: e4 e5 e7 e8 ea eb ed ee Here&#39;s what causes them, and what you can do to fix the issue. Corosync, more specifically its Totem protocol implementation, defines a maximum number of cluster …" />

        <meta property="og:site_name" content="xahteiwi.eu" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="What&#39;s a Totem &#34;Retransmit List&#34; all about in Corosync?"/>
        <meta property="og:url" content="fghaas.github.io/xahteiwi.eu/resources/hints-and-kinks/whats-totem-retransmit-list-all-about-corosync/index.html"/>
        <meta property="og:description" content="Occasionally, you may see errors similar to this in your system logs: corosync [TOTEM ] Retransmit List: e4 e5 e7 e8 ea eb ed ee Here&#39;s what causes them, and what you can do to fix the issue. Corosync, more specifically its Totem protocol implementation, defines a maximum number of cluster …"/>
        <meta property="article:published_time" content="2012-03-15" />
            <meta property="article:section" content="hints-and-kinks" />
            <meta property="article:tag" content="Corosync" />
            <meta property="article:author" content="Florian Haas" />

    <meta name="twitter:dnt" content="on">
    <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@xahteiwi">
        <meta name="twitter:creator" content="@xahteiwi">
    <meta name="twitter:domain" content="fghaas.github.io/xahteiwi.eu">


    <!-- Bootstrap -->
        <link rel="stylesheet" href="fghaas.github.io/xahteiwi.eu/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="fghaas.github.io/xahteiwi.eu/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="fghaas.github.io/xahteiwi.eu/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="fghaas.github.io/xahteiwi.eu/theme/css/style.css" type="text/css"/>

        <link href="fghaas.github.io/xahteiwi.eu/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="xahteiwi.eu ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="fghaas.github.io/xahteiwi.eu/" class="navbar-brand">
xahteiwi.eu            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="fghaas.github.io/xahteiwi.eu/category/hints-and-kinks/">Hints and Kinks</a></li>
                    <li><a href="fghaas.github.io/xahteiwi.eu/category/presentations/">Presentations</a></li>
                    <li><a href="fghaas.github.io/xahteiwi.eu/category/blogs/">Blog</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="fghaas.github.io/xahteiwi.eu/resources/hints-and-kinks/whats-totem-retransmit-list-all-about-corosync/index.html"
                       rel="bookmark"
                       title="Permalink to What's a Totem "Retransmit List" all about in Corosync?">
                        What's a Totem "Retransmit List" all about in Corosync?
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-03-15T09:11:34+01:00"> Thu 15 March 2012</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="fghaas.github.io/xahteiwi.eu/tag/corosync.html">Corosync</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Occasionally, you may see errors similar to this in your system logs:</p>
<div class="highlight"><pre><span></span>corosync [TOTEM ] Retransmit List: e4 e5 e7 e8 ea eb ed ee
</pre></div>
<p>Here's what causes them, and what you can do to fix the issue.</p>
<p>Corosync, more specifically its Totem protocol implementation, defines
a maximum number of cluster messages that can be sent during one token
rotation. By default, that number is 50, but you may modify this value
by setting the <code>window_size</code> parameter in your <code>corosync.conf</code>
configuration file.</p>
<p>When among several fast cluster nodes ("processors" in Totem speak)
there are one or few slow ones, the kernel receive buffers can't cope,
messages get lost, and they then need to be retransmitted. This is
what causes the Retransmit List notifications in the syslogs. This
doesn't mean you're losing any messages or data. But it does mean that
your cluster performance degrades when this happens, and thus you
should really fix that problem.</p>
<p>There are a few considerations that apply to tuning Corosync's
<code>window_size</code>:</p>
<ul>
<li>
<p>If you have a small cluster (say, 8 nodes or less), and they all can
  be expected to perform equally well because they have identical or
  nearly-identical hardware, then setting a large <code>window_size</code> of up
  to 300 should be fine.</p>
</li>
<li>
<p>If your cluster is rather heterogeneous, then you should probably
  stick with the default of 50. Definitely don't go higher than
  256000/MTU, where MTU is that of the network interface(s) Corosync
  communicates over. For a standard Ethernet interface the default MTU
  is 1500, which would make for a maximum <code>window_size</code> of 170.</p>
</li>
<li>
<p>If you're running on the generally safe default of 50, and you're
  still getting Retransmit List notifications, then one of your nodes
  is most likely significantly slower than the others, and you had
  better find the cause of that and fix it. The node could be under
  constant excessive load, or have a problem with its network driver,
  or may be plugged into an incorrectly-configured switch port.</p>
</li>
</ul>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="fghaas.github.io/xahteiwi.eu/images/avatar.jpg"/>
        </p>
</div><!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://twitter.com/xahteiwi"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
    <li class="list-group-item"><a href="https://www.linkedin.com/in/fghaas"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
    <li class="list-group-item"><a href="https://reddit.com/u/fghaas"><i class="fa fa-reddit-square fa-lg"></i> Reddit</a></li>
    <li class="list-group-item"><a href="https://github.com/fghaas"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="fghaas.github.io/xahteiwi.eu/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/ansible.html">Ansible</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/ceph.html">Ceph</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/cloudify.html">Cloudify</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/conference.html">Conference</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/containers.html">Containers</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/corosync.html">Corosync</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/development.html">Development</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="fghaas.github.io/xahteiwi.eu/tag/drbd.html">DRBD</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/flashcache.html">Flashcache</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/galera.html">Galera</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/glusterfs.html">GlusterFS</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/heat.html">Heat</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/high-availability.html">High Availability</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/juju.html">Juju</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/kvm.html">KVM</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/lca2014.html">lca2014</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/libvirt.html">libvirt</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/lxc.html">LXC</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/mysql.html">MySQL</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="fghaas.github.io/xahteiwi.eu/tag/open-edx.html">Open edX</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/openstack.html">OpenStack</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/oscon.html">OSCON</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="fghaas.github.io/xahteiwi.eu/tag/pacemaker.html">Pacemaker</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="fghaas.github.io/xahteiwi.eu/tag/performance.html">Performance</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="fghaas.github.io/xahteiwi.eu/tag/philosophy.html">Philosophy</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/python.html">Python</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/suse.html">SUSE</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="fghaas.github.io/xahteiwi.eu/tag/ubuntu.html">Ubuntu</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="/legal" target="_blank">Legal info</a>
    </li>
    <li class="list-group-item">
      <a href="http://getpelican.com/" target="_blank">Pelican</a>
    </li>
    <li class="list-group-item">
      <a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container-fluid">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 Florian Haas
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>                <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">Creative Commons Attribution-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="fghaas.github.io/xahteiwi.eu/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="fghaas.github.io/xahteiwi.eu/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="fghaas.github.io/xahteiwi.eu/theme/js/respond.min.js"></script>




</body>
</html>